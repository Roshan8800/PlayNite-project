{
  "entities": {
    "user": {
      "title": "User",
      "description": "A user of the application",
      "type": "object",
      "properties": {
        "uid": {
          "type": "string",
          "description": "The user's unique ID from Firebase Auth"
        },
        "name": {
          "type": "string",
          "description": "The user's full name"
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "The user's email address"
        },
        "avatarUrl": {
          "type": "string",
          "format": "uri",
          "description": "URL of the user's profile picture"
        },
        "role": {
          "type": "string",
          "enum": [
            "Admin",
            "User"
          ],
          "description": "The user's role"
        },
        "joinedDate": {
          "type": "string",
          "format": "date-time",
          "description": "The date the user joined"
        },
        "status": {
          "type": "string",
          "enum": [
            "Active",
            "Inactive"
          ],
          "description": "The user's account status"
        }
      },
      "required": [
        "uid",
        "name",
        "email",
        "role",
        "joinedDate"
      ]
    },
    "video": {
      "title": "Video",
      "description": "A video in the streaming platform",
      "type": "object",
      "properties": {
        "title": {
          "type": "string"
        },
        "channel": {
          "type": "string"
        },
        "channelId": {
          "type": "string",
          "description": "The UID of the user who uploaded the video."
        },
        "views": {
          "type": "number"
        },
        "uploadedAt": {
          "type": "string",
          "format": "date-time"
        },
        "thumbnailUrl": {
          "type": "string",
          "format": "uri"
        },
        "duration": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "channelAvatarUrl": {
          "type": "string",
          "format": "uri"
        },
        "videoUrl": {
          "type": "string",
          "format": "uri"
        },
        "category": {
          "type": "string",
          "description": "Category of the video"
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "status": {
          "type": "string",
          "enum": [
            "Pending",
            "Approved",
            "Rejected"
          ],
          "description": "Approval status of the video"
        }
      },
      "required": [
        "title",
        "channel",
        "channelId",
        "uploadedAt",
        "thumbnailUrl",
        "videoUrl",
        "status",
        "views"
      ]
    },
    "category": {
      "title": "Category",
      "description": "A video category",
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "thumbnailUrl": {
          "type": "string",
          "format": "uri"
        }
      },
      "required": [
        "name",
        "thumbnailUrl"
      ]
    },
    "report": {
      "title": "Report",
      "description": "A user-submitted report against a video.",
      "type": "object",
      "properties": {
        "videoId": {
          "type": "string"
        },
        "videoTitle": {
          "type": "string"
        },
        "reportedByUid": {
          "type": "string"
        },
        "reportedByName": {
          "type": "string"
        },
        "reason": {
          "type": "string"
        },
        "status": {
          "type": "string",
          "enum": [
            "Open",
            "Resolved"
          ]
        },
        "reportedAt": {
          "type": "string",
          "format": "date-time"
        }
      },
      "required": [
        "videoId",
        "reportedByUid",
        "reason",
        "status",
        "reportedAt"
      ]
    }
  },
  "auth": {
    "providers": [
      "google.com",
      "password"
    ]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": {
        "$ref": "#/entities/user"
      },
      "description": "Stores public profiles for users."
    },
    "/videos/{videoId}": {
      "schema": {
        "$ref": "#/entities/video"
      },
      "description": "Stores all video documents."
    },
    "/categories/{categoryId}": {
      "schema": {
        "$ref": "#/entities/category"
      },
      "description": "Stores video categories."
    },
    "/reports/{reportId}": {
      "schema": {
        "$ref": "#/entities/report"
      },
      "description": "Stores user-submitted content reports."
    },
    "/users/{userId}/history/{videoId}": {
      "schema": {
        "$ref": "#/entities/video"
      },
      "description": "User's viewing history."
    },
    "/users/{userId}/likes/{videoId}": {
      "schema": {
        "$ref": "#/entities/video"
      },
      "description": "User's liked videos."
    },
    "/users/{userId}/watchLater/{videoId}": {
      "schema": {
        "$ref": "#/entities/video"
      },
      "description": "User's watch later list."
    }
  }
}
